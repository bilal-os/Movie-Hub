<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Planet</title>
	<link href="css/bootstrap.min.css" rel="stylesheet" >
	<link href="css/font-awesome.min.css" rel="stylesheet" >
	<link href="css/global.css" rel="stylesheet">
	<link href="css/blog.css" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css2?family=Rajdhani&display=swap" rel="stylesheet">
	<script src="js/bootstrap.bundle.min.js"></script>
	<link href='https://unpkg.com/css.gg@2.0.0/icons/css/add-r.css' rel='stylesheet'>
	<link href='https://unpkg.com/css.gg@2.0.0/icons/css/list.css' rel='stylesheet'>
	<link href='https://unpkg.com/css.gg@2.0.0/icons/css/heart.css' rel='stylesheet'>
	<link href='https://unpkg.com/css.gg@2.0.0/icons/css/bookmark.css' rel='stylesheet'>
		<script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
</head>
<body>

    	<section id="top">
		<div class="container">
			<div class="row top_1">
				<div class="col-md-3">
					<div class="top_1l pt-1">
						<h3 class="mb-0"><a class="text-white" href="index.html"><i
									class="fa fa-video-camera col_red me-1"></i> Movie Hub</a></h3>
					</div>
				</div>
                
				 <div class="col-md-5">
                        <div class="top_1m">
                            <div class="input-group" id="DynSearchBar">
                                <input type="text" class="form-control bg-black" placeholder="Search Site..."
                                    id="SearchBar">
                                <span class="input-group-btn">
                                    <button class="btn btn text-white bg_red rounded-0 border-0" type="button">
                                        Search
                                    </button>
                                </span>
                            </div>
                            <div id="searchitemscontainer" style="position:absolute; width: 459px; z-index: 1000;">
                                <ul class="custom_drop" id="itemsContainer"></ul>
                            </div>
                        </div>
                    </div>

				<div class="col-md-4">
					<div class="top_1r text-end">
						<ul class="social-network social-circle mb-0">
							<li><a href="#" class="icoRss" title="Rss"><i class="fa fa-instagram"></i></a></li>
							<li><a href="#" class="icoFacebook" title="Facebook"><i class="fa fa-facebook"></i></a></li>
							<li><a href="#" class="icoTwitter" title="Twitter"><i class="fa fa-twitter"></i></a></li>
							<li><a href="#" class="icoGoogle" title="Google +"><i class="fa fa-youtube"></i></a></li>
							<li><a href="#" class="icoLinkedin" title="Linkedin"><i class="fa fa-linkedin"></i></a></li>
						</ul>
					</div>
				</div>
			</div>
		</div>


	</section>

	<section id="header">
		<nav class="navbar navbar-expand-md navbar-light" id="navbar_sticky">
			<div class="container">
				<a class="navbar-brand text-white fw-bold" href="index.html"><i
						class="fa fa-video-camera col_red me-1"></i> Movie Hub</a>
				<button class="navbar-toggler" type="button" data-bs-toggle="collapse"
					data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"
					aria-expanded="false" aria-label="Toggle navigation">
					<span class="navbar-toggler-icon"></span>
				</button>
				<div class="collapse navbar-collapse" id="navbarSupportedContent">
					<ul class="navbar-nav mb-0">
						<li class="nav-item">
							<a class="nav-link active" aria-current="page" href="index.html">Home</a>
						</li>
						<li class="nav-item">
							<a class="nav-link" href="movies.html">Browse Movies</a>
						</li>
						<li class="nav-item">
							<a class="nav-link" href="tvseries.html">Browse Tv Series</a>
						</li>
						<li class="nav-item">
							<a class="nav-link" href="contact.html">Contact Us</a>
						</li>
					</ul>
				</div>
			</div>
		</nav>
	</section>

<section id="center" class="center_o pt-2 pb-2">
 <div class="container-xl">
  <div class="row center_o1">
   <div class="col-md-5">
     <div class="center_o1l">
	  <h2 class="mb-0">Movie Details</h2>
	 </div>
   </div>
   <div class="col-md-7">
     <div class="center_o1r text-end">
	  <h6 class="mb-0 col_red"><a href="#">Home</a> <span class="me-2 ms-2 text-light"><i class="fa fa-caret-right align-middle"></i></span> TvSeries Details</h6>
	 </div>
   </div>
  </div>
 </div>
</section>

<section id="blog" class="pt-4 pb-4 bg_grey">
 <div class="container-xl">
  <div class="row blog_1">
	<div class="popular_2i1lm position-relative clearfix mb-4">
		   <div class="popular_2i1lm1 clearfix">
		      <div class="grid">
		  <figure class=" mb-0">
			<img id="backgroundImage" src="" height="700" class="w-100" alt="img25" style="opacity: 0.5;">
		  </figure>
		  					<div class="detail-container">
						<div>

							<h2 id="movie_title" class="movie-title"><span>
									</span>
							</h2>
							
							<p id="movie_details" style="position: absolute; margin-top:200px ; left: -30px; font-size: 15px;">
							</p>
						</div>


						<div class="image-container">
							<img id="poster_id" src="" alt="Image description" style="border-radius: 10px; overflow: hidden;">
						</div>
						<div class="overlay">
							<div class="circle circle-title " style="cursor: pointer;">
								<i class="gg-bookmark" ></i>
							</div>
							<div class="circle circle-ratings" style="cursor: pointer;">
									<i class="gg-heart"></i>
							</div>
							<div class="circle circle-duration" style="cursor: pointer;">
								<i class="gg-add-r" ></i>
							</div>
							
							<div class="circle circle-duration" style="cursor: pointer;" id="list">
								<i class="gg-list"></i>
							</div>
						</div>
					</div>
						
	  </div>
		   </div>
		  </div>	   
   <div class="col-md-8">
    <div class="blog_1l">
	 <div class="blog_1l1">
		  
	   <div class="blog_1l1i mt-1">
		<h2 class="mt-1"><a class="col_red" href="#">Overview	</a></h2>
		<h6 class="fw-normal mt-3 col_light">

		</h6>
	  </div>
	 </div>
	 <div class="blog_1l2">
	  <blockquote id="overview_movie" class="blockquote bg_dark p-4 pt-3 mt-4">
									<p></p>
								</blockquote>
	  				
	 </div>
	                                 <div class="blog_1l4">
										 <div class="blog_1l3 mt-4">
													<h2 class="mt-1"><a class="col_red" href="#">Trailers	</a></h2>
									 </div>
                                <div class="video-container" style="max-width: 800px; height: 600px;">
                                  <iframe id="movie_trailer" width="100%" height="100%" src="" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>
</div>

                                </div>

	 <div class="blog_1l3 mt-4">
	  <h3>Similar Movies</h3>
	 </div>
	 <div class="blog_1l4 mt-3" id="similar_movies">
	 
	 </div>


	 <div class="blog_1l3 mt-4">
	  <h3>Recent Comments</h3>
	 </div>


	 <div id="comments_section" class="blog_1l5 mt-3">
	   <div class="blog_1l5i row">
	    <div class="col-md-2 col-2 pe-0">
		 <div class="blog_1l5il">
		  <img src="img/34.jpg" class="w-100" alt="abc">
		 </div>
		</div>
		<div class="col-md-10 col-10">
		 <div class="blog_1l5ir">
		  <h5><a href="#">Mr Eget Nulla</a> <span class="font_14 col_light">/ 13 July 2017</span></h5>
		  <p class="font_14">Hi, this is a comment.<br>
To delete a comment, just log in and view the post's comments. There you will have the option to edit or delete them.</p>
<h6 class="font_14 mb-0 mt-3"><a class="button p-3 pt-2 pb-2" href="#"> Reply</a></h6>
		 </div> 
		</div>
	   </div><hr>
	   <div class="blog_1l5i row">
	    <div class="col-md-2 col-2 pe-0">
		 <div class="blog_1l5il">
		  <img src="img/35.jpg" class="w-100" alt="abc">
		 </div>
		</div>
		<div class="col-md-10 col-10">
		 <div class="blog_1l5ir">
		  <h5><a href="#">Mr Semp Porta</a> <span class="font_14 col_light">/ 13 July 2017</span></h5>
		  <p class="font_14">Hi, this is a comment.<br>
To delete a comment, just log in and view the post's comments. There you will have the option to edit or delete them.</p>
<h6 class="font_14 mb-0 mt-3"><a class="button p-3 pt-2 pb-2" href="#"> Reply</a></h6>
		 </div> 
		</div>
	   </div><hr>
	   <div class="blog_1l5i row">
	    <div class="col-md-2 col-2 pe-0">
		 <div class="blog_1l5il">
		  <img src="img/36.jpg" class="w-100" alt="abc">
		 </div>
		</div>
		<div class="col-md-10 col-10">
		 <div class="blog_1l5ir">
		  <h5><a href="#">Mr Quis Sem</a> <span class="font_14 col_light">/ 13 July 2017</span></h5>
		  <p class="font_14">Hi, this is a comment.<br>
To delete a comment, just log in and view the post's comments. There you will have the option to edit or delete them.</p>
<h6 class="font_14 mb-0 mt-3"><a class="button p-3 pt-2 pb-2" href="#"> Reply</a></h6>
		 </div> 
		</div>
	   </div><hr>
	 </div>



	 <div class="blog_1l3 mt-4">
	  <h3>Leave a  Comment</h3>
	 </div>



	 <div class="blog_1l6 mt-3">
	   <div class="blog_1dt5 row mt-3">
	   <div class="col-md-6">
	    <div class="blog_1dt5l">
					  <input id="nameInput" class="form-control mb-3" placeholder="Name" type="text">
		  <textarea id="commentTextArea" placeholder="Comment" class="form-control form_text"></textarea>
		  <div class="form-check mt-3">
        <input type="checkbox" class="form-check-input" id="customCheck1">
        <label class="form-check-label" for="customCheck1">Save my name and email in this browser for the next time I comment.</label>
    </div>
	    <h6 class="mt-3 mb-0"><a id="commentButton" class="button" href="#"> Comment</a></h6>
		</div>
	   </div>
	   <div class="col-md-6">
	   </div>
	  </div>
	 </div>
	</div>
   </div>   
   <div class="col-md-4">
    <div class="blog_1r">
	  <div class="blog_1r1 p-4">
	   <h4><span  class="col_red">Director</span></h4>
	   <hr class="line mb-4">
	   <h6><img id="director_image" src="" class="rounded-circle" width="70" height="70" style="margin-right: 20px;" ><a id="director_name" href="#" > </a></h6>
	</div>

	  <div class="blog_1r1 p-4" id="castContainer">
	   <h4>Cast </h4>
	   <hr class="line mb-4">
	  </div>


	
	  <div class="blog_1r1 p-4 mt-4">
	   <h4>Popular   <span class="col_red">Tags</span></h4>
	   <hr class="line mb-4">
	   <ul class="mb-0" >
	    <li class="d-inline-block"><a class="d-block" href="blog_detail.html">Analyze</a></li>
		<li class="d-inline-block"><a class="d-block" href="blog_detail.html">Audio</a></li>
		<li class="d-inline-block"><a class="d-block" href="blog_detail.html">Blog</a></li>
		<li class="d-inline-block"><a class="d-block" href="blog_detail.html">Business</a></li>
		<li class="d-inline-block"><a class="d-block" href="blog_detail.html">Creative</a></li>
		<li class="d-inline-block"><a class="d-block" href="blog_detail.html">Design</a></li>
		<li class="d-inline-block"><a class="d-block" href="blog_detail.html">Experiment</a></li>
		<li class="d-inline-block"><a class="d-block" href="blog_detail.html">News</a></li>
		<li class="d-inline-block"><a class="d-block" href="blog_detail.html">Expertize</a></li>
		<li class="d-inline-block"><a class="d-block" href="blog_detail.html">Express</a></li>
		<li class="d-inline-block"><a class="d-block" href="blog_detail.html">Share</a></li>
		<li class="d-inline-block"><a class="d-block" href="blog_detail.html">Sustain</a></li>
		<li class="d-inline-block"><a class="d-block" href="blog_detail.html">Video</a></li>
		<li class="d-inline-block"><a class="d-block" href="blog_detail.html">Youtube</a></li>
	   </ul>
	  </div>
	</div>
   </div>
  </div>
 </div>
</section>

<section id="footer">
		<div class="footer_m clearfix">
			<div class="container">
				<div class="row footer_1">
					<div class="col-md-4">
						<div class="footer_1i">
							<h3><a class="text-white" href="index.html"><i class="fa fa-video-camera col_red me-1"></i>
									Movie Hub</a></h3>
							<p class="mt-3">Welcome to our movie hub! We love watching films and are thrilled about
								sharing the greatest ones. Explore our website for ratings, teasers, and excellent
								suggestions in every genre. </p>
							<h6 class="fw-normal"><i class="fa fa-map-marker fs-5 align-middle col_red me-1"></i> Fast
								Nuces Lahore, Pakistan</h6>
							<h6 class="fw-normal mt-3"><i class="fa fa-envelope fs-5 align-middle col_red me-1"></i>
								info@gmail.com</h6>
							<h6 class="fw-normal mt-3 mb-0"><i class="fa fa-phone fs-5 align-middle col_red me-1"></i>
								+123 123 456</h6>
						</div>
					</div>
					<div class="col-md-4">
						
					</div>
					<div class="col-md-4">
						<div class="footer_1i">
							<h4>Sign <span class="col_red">Newsletter</span></h4>
							<p class="mt-3">Subscribe to our newsletter list to get latest news and updates from us</p>
							<div class="input-group">
								<input type="text" class="form-control bg-black" placeholder="Email">
								<span class="input-group-btn">
									<button class="btn btn text-white bg_red rounded-0 border-0" type="button">
										Subscribe</button>
								</span>
							</div>
							<ul class="social-network social-circle mb-0 mt-4">
								<li><a href="#" class="icoRss" title="Rss"><i class="fa fa-instagram"></i></a></li>
								<li><a href="#" class="icoFacebook" title="Facebook"><i class="fa fa-facebook"></i></a>
								</li>
								<li><a href="#" class="icoTwitter" title="Twitter"><i class="fa fa-twitter"></i></a>
								</li>
								<li><a href="#" class="icoGoogle" title="Google +"><i class="fa fa-youtube"></i></a>
								</li>
								<li><a href="#" class="icoLinkedin" title="Linkedin"><i class="fa fa-linkedin"></i></a>
								</li>
							</ul>
						</div>
					</div>
				</div>
			</div>
		</div>
	</section>

<section id="footer_b" class="pt-3 pb-3 bg_grey">
<div class="container">
   <div class="row footer_1">
     <div class="col-md-8">
	  <div class="footer_1l">
	   <p class="mb-0">Â© 2023 Movie Hub. All Rights Reserved </p>
	  </div>
	 </div>
	 <div class="col-md-4">
	  <div class="footer_1r">
	   <ul class="mb-0">
	    <li class="d-inline-block me-2"><a href="index.html">Home</a></li>
		<li class="d-inline-block me-2"><a href="movies.html">Browse Movies</a></li>
		<li class="d-inline-block me-2"><a href="tvseries.html">Browse TV Series</a></li>
		<li class="d-inline-block me-2"><a href="contact.html">Contact Us</a></li>
	   </ul>
	  </div>
	 </div>
   </div>
</div>
</section>


<script>
		window.onscroll = function () { myFunction() };

		var navbar_sticky = document.getElementById("navbar_sticky");
		var sticky = navbar_sticky.offsetTop;
		var navbar_height = document.querySelector('.navbar').offsetHeight;

		function myFunction() {
			if (window.pageYOffset >= sticky + navbar_height) {
				navbar_sticky.classList.add("sticky")
				document.body.style.paddingTop = navbar_height + 'px';
			} else {
				navbar_sticky.classList.remove("sticky");
				document.body.style.paddingTop = '0'
			}
		}
	</script>

<script>
    // Define a separate module for search functionality
    var SearchModule = (function ($) {
        // Private variables
        var customDrop = $(".custom_drop");
        var resultsContainer = $("#itemsContainer");

        // Private function to handle the AJAX request
        function performSearch(searchTerm) {
            $.ajax({
                url: 'http://localhost:3000/api/searchbar',
                method: 'POST',
                contentType: 'application/json',
                data: JSON.stringify({ searchTerm: searchTerm }),
                success: function (data) {
                    displaySearchResults(data);
                },
                error: function (error) {
                    console.error('Error fetching search results:', error);
                }
            });
        }

        // Private function to display search results
        function displaySearchResults(data) {
            resultsContainer.empty();

                 for (var i = 0; i < data.length; i++) {
            // Create a clickable link with movie ID as a data attribute
            var listItem = $('<li><a class="dropdown-item" href="#" data-movie-id="' + data[i].id + '">' +
                data[i].title + ' ' + data[i].release_year +
                '</a></li>');

            // Attach a click event to the link
            listItem.find('a').on('click', function (event) {
                event.preventDefault();
                var movieId = $(this).data('movie-id');
                // Redirect to another HTML page with the movie ID
                window.location.href = 'moviedetail.html?movieId=' + movieId;
            });

            resultsContainer.append(listItem);
        }
            // Toggle the 'active' class based on the search results
            customDrop.toggleClass("active", resultsContainer.children().length > 0);
        }

        // Public function to handle keyup event on the search bar
        function handleSearchKeyup() {
            var searchTerm = $("#SearchBar").val().toLowerCase().trim();

            if (searchTerm.length > 0) {
                performSearch(searchTerm);
            } else {
                // Clear results and hide dropdown if search term is empty
                resultsContainer.empty();
                customDrop.removeClass("active");
            }
        }

        // Public function to initialize the search module
        function init() {
            $("#SearchBar").keyup(handleSearchKeyup);
        }

        // Return public functions
        return {
            init: init
        };
    })(jQuery);

    // Initialize the search module
    $(document).ready(function () {
        SearchModule.init();
    });
</script>

<script>
    $(document).ready(function () {
        // Function to get the value of a query parameter by name
        function getQueryParam(name) {
            const urlSearchParams = new URLSearchParams(window.location.search);
            return urlSearchParams.get(name);
        }

        // Retrieve the movieId from the query parameter
        const tvId = getQueryParam('tvId');

        // Check if movieId is not null or undefined before using it
        if (tvId) {
            console.log('movieId: ' + tvId);

            // Make an AJAX request to fetch movie details based on movieId
            $.ajax({
                url: 'http://localhost:3000/api/getTvDetails1',
                method: 'POST',
                contentType: 'application/json',
                data: JSON.stringify({ tvId: tvId }),
                success: function (data) {
                    console.log('Received data:', data);

                    if (data.length > 0) {
                        const movie = data[0];

                        // Update HTML with fetched data
                        $('#backgroundImage').attr('src', `data:image/jpeg;base64,${movie.background}`);
						$('#movie_title').text(movie.title);
						$('#movie_details').text('Release Date: ' + movie.first_air_date + ' ' + movie.genre_names + ' ' + movie.noOfSeason);
						$('#poster_id').attr('src', `data:image/jpeg;base64,${movie.poster}`);
						$('#overview_movie').text(movie.overview);
						$('#movie_trailer').attr('src', `https://www.youtube.com/embed/${movie.trailerid}`);
                
                    } else {
                        console.error('No movies found.');
                    }
                },
                error: function (error) {
                    console.error('Error fetching movie details:', error);
                    // Handle error, show a message, etc.
                },
            });

        } else {
            console.log('movieId is null or undefined');
        }
    });
</script>

<script>
    $(document).ready(function () {
        // Function to get the value of a query parameter by name
        function getQueryParam(name) {
            const urlSearchParams = new URLSearchParams(window.location.search);
            return urlSearchParams.get(name);
        }

        // Retrieve the movieId from the query parameter
        const tvId = getQueryParam('tvId');

        // Check if movieId is not null or undefined before using it
        if (tvId) {
            console.log('movieId: ' + tvId);

            // Make an AJAX request to fetch movie details based on movieId
            $.ajax({
                url: 'http://localhost:3000/api/getTvCast',
                method: 'POST',
                contentType: 'application/json',
                data: JSON.stringify({ tvId: tvId }),
                success: function (data) {
                    console.log('Received data:', data);
                    if (data.length > 0) {
                        // Iterate through the cast details and append them to the HTML
                        const castContainer = $('#castContainer');
                        data.forEach(function (cast) {
                            const castHtml = `
                                <h6><img src="data:image/jpeg;base64,${cast.actorPicture}" class="rounded-circle" width="70" height="70" style="margin-right: 20px;" >
                                    <a href="#">${cast.actorName}</a>
                                </h6>
                                <hr>`;
                            castContainer.append(castHtml);
                        });
                    }
                },
                error: function (error) {
                    console.error('Error fetching movie details:', error);
                    // Handle error, show a message, etc.
                }
            });

        } else {
            console.log('movieId is null or undefined');
        }
    });
</script>

<script>
$(document).ready(function () {
    // Function to get the value of a query parameter by name
    function getQueryParam(name) {
        const urlSearchParams = new URLSearchParams(window.location.search);
        return urlSearchParams.get(name);
    }

    // Retrieve the movieId from the query parameter
    const tvId = getQueryParam('tvId');

    // Check if movieId is not null or undefined before using it
    if (tvId) {
        console.log('movieId: ' + tvId);

        // Make an AJAX request to fetch movie details based on movieId
        $.ajax({
            url: 'http://localhost:3000/api/getSimilarTVSeries',
            method: 'POST',
            contentType: 'application/json',
            data: JSON.stringify({ tvId: tvId }),
            success: function (data) {
                console.log('Received data:', data);
                if (data.length > 0) {
                    var container = $('#similar_movies');
                    for (var i = 0; i < data.length; i++) {
                        var movieHtml = `
                            <div class="popular_2i1 row ${i > 0 ? 'mt-4' : ''}">
                                <div class="col-md-4 col-4">
                                    <div class="popular_2i1lm position-relative clearfix">
                                        <div class="popular_2i1lm1 clearfix">
                                            <div class="grid">
                                                <figure class="effect-jazz mb-0">
                                                    <a href="#"><img src="data:image/jpeg;base64,${data[i].poster}" class="w-100" alt="img25"></a>
                                                </figure>
                                            </div>
                                        </div>
                                      
                                    </div>
                                </div>
                                <div class="col-md-8 col-8">
                                    <div class="popular_2i1r">
                                        <h5><a class="col_red" href="#">${data[i].title}</a></h5>
                                        <h6>${data[i].genre_names.join(', ')}</h6>
                                        <h6> Imdb ${data[i].rating} <span class="ms-2"><i class="fa fa-star col_red me-1"></i></span> Year : ${data[i].release_year} <span class="ms-2">Runtime: ${data[i].noOfSeasons}</span></h6>
                                        <p>${data[i].overview}</p>
                                        <h6 class="mb-0"><a class="button" href="tvseriesdetail.html?tvId=${data[i].id}"> More Info</a></h6>
                                    </div>
                                </div>
                            </div>`;

                        container.append(movieHtml);
                    }
                }
            },
            error: function (error) {
                console.error('Error fetching movie details:', error);
                // Handle error, show a message, etc.
            }
        });
    } else {
        console.log('movieId is null or undefined');
    }
});
</script>

<script>
    $(document).ready(function () {
        // Function to get the value of a query parameter by name
        function getQueryParam(name) {
            const urlSearchParams = new URLSearchParams(window.location.search);
            return urlSearchParams.get(name);
        }

        // Retrieve the movieId from the query parameter
        const tvId = getQueryParam('tvId');

        // Check if movieId is not null or undefined before using it
        if (tvId) {
            console.log('tvId: ' + tvId);

            // Make an AJAX request to fetch movie details based on movieId
            $.ajax({
                url: 'http://localhost:3000/api/getTvDirector',
                method: 'POST',
                contentType: 'application/json',
                data: JSON.stringify({ tvId: tvId }),
                success: function (data) {
                    console.log('Received data:', data);
                    if (data.length > 0) {
						$('#director_name').text(data[0].directorName);
						$('#director_image').attr('src', `data:image/jpeg;base64,${data[0].directorPicture}`);

                    }
                },
                error: function (error) {
                    console.error('Error fetching movie details:', error);
                    // Handle error, show a message, etc.
                }
            });

        } else {
            console.log('movieId is null or undefined');
        }
    });
</script>

<script>
  $(document).ready(function () {
	 function getQueryParam(name) {
    const urlSearchParams = new URLSearchParams(window.location.search);
    return urlSearchParams.get(name);
  }
    // Handle form submission
    $('#commentButton').click(function () {
      // Get values from the form
      const comment = $('#commentTextArea').val();
      const userName = $('#nameInput').val();
      const tvId = getQueryParam('tvId'); // Assuming you have a function to get the movieId

      // Create a JSON object with the form data
      const formData = {
        comment: comment,
        userName: userName,
        tvId: tvId
      };

      // Perform your desired actions with the form data
      console.log('Form Data:', formData);

      // Add your AJAX request here if needed
      $.ajax({
        url: 'http://localhost:3000/api/postCommentTv',
        method: 'POST',
        contentType: 'application/json',
        data: JSON.stringify(formData),
        success: function (response) {
          console.log('Success:', response);

          // Reload the page after successful comment submission
          location.reload();
        },
        error: function (error) {
          console.error('Error:', error);
        }
      });

      // Clear form fields
      $('#commentTextArea').val('');
      $('#nameInput').val('');
    });
  });
</script>


<script>
    $(document).ready(function () {
        // Function to get the value of a query parameter by name
        function getQueryParam(name) {
            const urlSearchParams = new URLSearchParams(window.location.search);
            return urlSearchParams.get(name);
        }

        // Retrieve the movieId from the query parameter
        const tvId = getQueryParam('tvId');

        // Check if movieId is not null or undefined before using it
        if (tvId) {
            console.log('movieId: ' + tvId);

            // Make an AJAX request to fetch movie details based on movieId
            $.ajax({
                url: 'http://localhost:3000/api/fetchCommentsTv',
                method: 'POST',
                contentType: 'application/json',
                data: JSON.stringify({ tvId: tvId }),
                success: function (data) {
                    console.log('Received data7891:', data);
                    if (data.comments.length > 0) {
					displayComment(data.comments);

                    }
                },
                error: function (error) {
                    console.error('Error fetching movie details:', error);
                    // Handle error, show a message, etc.
                }
            });

			function displayComment(data) {
				var container = $('#comments_section');
				for (var i = 0; i < data.length; i++) {
					var comment = data[i].comment;
					var userName = data[i].name;
					var date=data[i].date;
					console.log('comment',comment);
					console.log('userName',userName);
					console.log('date',date);
					var commentElement =`
					  <div class="blog_1l5i row">
	    <div class="col-md-2 col-2 pe-0">
		 <div class="blog_1l5il">
		  <img src="img/34.jpg" class="w-100" alt="abc">
		 </div>
		</div>
		<div class="col-md-10 col-10">
		 <div class="blog_1l5ir">
		  <h5><a href="#">${userName}</a> <span class="font_14 col_light">/${date}</span></h5>
		  <p class="font_14">${comment}<br>
To delete a comment, just log in and view the post's comments. There you will have the option to edit or delete them.</p>
<h6 class="font_14 mb-0 mt-3"><a class="button p-3 pt-2 pb-2" href="#"> Reply</a></h6>
		 </div> 
		</div>
	   </div><hr>
					`;


					container.append(commentElement);
				}
			}

        } else {
            console.log('movieId is null or undefined');
        }
    });
</script>


</body>

</html>